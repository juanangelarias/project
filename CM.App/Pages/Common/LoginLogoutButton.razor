
@inject NavigationManager Navigation
@inject IGeneralStateProvider State

<AuthorizeView>
    <Authorized>
        <MudButton ButtonType="ButtonType.Button"
                   Variant="Variant.Filled"
                   Color="Color.Primary"
                   OnClick="Logout">
            Logout
        </MudButton>
    </Authorized>
    <NotAuthorized>
        <MudButton ButtonType="ButtonType.Button"
                           Variant="Variant.Filled"
                           Color="Color.Primary"
                           OnClick="Login">
                    Login
                </MudButton>
    </NotAuthorized>
</AuthorizeView>

@code
{
    [CascadingParameter]
    protected Task<AuthenticationState>? AuthState { get; set; }

    protected override async Task OnInitializedAsync()
    {
        await base.OnInitializedAsync();
    }

    private void Login()
    {
        Navigation.NavigateTo("/login");
    }
    
    private void Logout()
    {
        State.Logout();
        Navigation.NavigateTo("/login");
    }
}
